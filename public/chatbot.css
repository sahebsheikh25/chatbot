/* Hacker / Cyberpunk themed chat styles - pure black, neon red/green */
:root{
  --bg:#000000;
  --panel-bg: rgba(8,8,8,0.92);
  --glass: rgba(255,255,255,0.02);
  --neon-green: #00ff4c;
  --neon-red: #ff2e2e;
  --muted:#4b4b4b;
}

html,body{ background:var(--bg); }
/* Terminal-like typography */
#sn-chat-root, #sn-chat-panel, #sn-chat-body, #sn-chat-messages, .sn-msg { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Courier New', monospace; color:var(--neon-green); }

/* Floating capsule button (draggable) */
#sn-chat-button{
  position:fixed; right:18px; bottom:22px; z-index:99999;
  background:transparent; color:var(--neon-green); border:1px solid rgba(0,255,76,0.12);
  padding:10px 14px; border-radius:999px; cursor:grab; font-weight:700;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6), 0 0 12px rgba(0,255,76,0.06);
}
#sn-chat-button:active{ cursor:grabbing; transform:scale(.99); }

/* allow dragging on touch without the browser treating it as pan/zoom */
#sn-chat-button{ touch-action: none; -webkit-user-drag: none; }

/* Subtle outer glow */
#sn-chat-button::after{ content:''; position:fixed; right:18px; bottom:22px; width:44px; height:44px; border-radius:50%; pointer-events:none; background: radial-gradient(circle, rgba(0,255,76,0.06), transparent 45%); }

/* Chat panel */
#sn-chat-panel{
  position:fixed; right:18px; bottom:86px; width:380px; max-width:calc(100% - 32px); height:520px;
  z-index:99999; display:flex; flex-direction:column; border-radius:10px; overflow:hidden;
  background:linear-gradient(180deg, rgba(4,4,4,0.98), rgba(8,8,8,0.94));
  border:1px solid rgba(255,255,255,0.02); box-shadow: 0 20px 50px rgba(0,0,0,0.8);
  transform-origin:bottom right; opacity:0; pointer-events:none; transition:opacity .18s ease, transform .18s ease;
}
#sn-chat-panel.open{ opacity:1; pointer-events:auto; transform:translateY(0) scale(1); }
#sn-chat-panel.closed{ transform:translateY(12px) scale(.99); }

.sn-chat-header{
  display:flex; align-items:center; justify-content:space-between; padding:10px 12px; gap:8px;
  background:linear-gradient(90deg, rgba(10,10,10,0.9), rgba(6,6,6,0.9));
  border-bottom:1px solid rgba(255,255,255,0.02); color:var(--neon-green);
}
.sn-chat-title{ font-size:15px; letter-spacing:1px; }
.sn-chat-title .blink{ display:inline-block; margin-left:6px; color:var(--neon-green); animation:blink 1s steps(2) infinite; }
@keyframes blink{ 0%{opacity:1}50%{opacity:0}100%{opacity:1} }
.sn-chat-controls button{ background:transparent; border:none; color:var(--muted); padding:4px 8px; cursor:pointer; font-size:14px }

#sn-chat-body{ flex:1; display:flex; flex-direction:column; padding:12px; gap:6px; overflow:hidden; }
#sn-chat-messages{ flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; padding-bottom:10px; }
#sn-chat-typing{ margin-left:8px; color:var(--muted); font-weight:700; }
.hidden{ display:none }

/* Message bubbles - terminal style */
.sn-msg{ max-width:78%; padding:10px 12px; border-radius:8px; line-height:1.25; font-size:14px; box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02); }
.sn-msg.bot{ background:linear-gradient(180deg, rgba(2,6,2,0.7), rgba(2,6,2,0.55)); color:var(--neon-green); align-self:flex-start; border-top-left-radius:3px; }
.sn-msg.user{ background:linear-gradient(180deg, rgba(20,2,2,0.7), rgba(18,2,2,0.55)); color:var(--neon-red); align-self:flex-end; border-top-right-radius:3px; }
.sn-msg.system{ background: transparent; color:#ffb86b; border-left:2px solid #ffb86b; align-self:center; font-size:12px; padding:6px 8px; border-radius:4px; }

/* Input bar - fixed at bottom of panel */
#sn-chat-form{ display:flex; gap:8px; padding:10px; border-top:1px solid rgba(255,255,255,0.02); background:transparent; }
#sn-chat-input{ flex:1; resize:none; padding:10px 12px; border-radius:6px; border:1px solid rgba(255,255,255,0.02); background:#030303; color:var(--neon-red); min-height:46px; max-height:160px; caret-color:var(--neon-green); }
#sn-chat-send{ background:transparent; color:var(--neon-green); border:1px solid rgba(0,255,76,0.08); padding:8px 12px; border-radius:6px; cursor:pointer }

/* Mobile fullscreen behaviour */
@media (max-width:700px){
  #sn-chat-panel{ right:0; left:0; bottom:0; top:0; width:100%; height:100%; border-radius:0; }
  #sn-chat-button{ right:14px; bottom:18px; }
  #sn-chat-body{ padding:12px 12px 100px; }
  #sn-chat-form{ position:fixed; left:0; right:0; bottom:env(safe-area-inset-bottom); padding:12px; background:linear-gradient(180deg, rgba(0,0,0,0.96), rgba(0,0,0,0.98)); }
  #sn-chat-messages{ padding-bottom:180px }
}

/* Focus and accessibility */
#sn-chat-button:focus, #sn-chat-send:focus, #sn-chat-close:focus{ outline:2px solid rgba(0,255,76,0.12); outline-offset:2px }
